<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>eBPF in action</title>
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
		
        <style>
            html,body{
                margin:0;
                padding:0;
                overflow: hidden;                
            }
        </style>

	</head>

	<body>
		<div id="ebpfInAction" width="500px" height="450px">

        </div>
			

		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/95/three.js"></script>	

        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.2/dat.gui.js"></script>

        <script>
            $(document).ready(function(){
                var scene = new THREE.Scene();
                var camera = new THREE.PerspectiveCamera(45, window.innerWidth /window.innerHeight, 0.1, 1000);
                var renderer = new THREE.WebGLRenderer();
                renderer.setClearColor(0xEEEEEE);
                renderer.setSize(window.innerWidth, window.innerHeight);
                var axes = new THREE.AxesHelper( 20 );
                scene.add(axes);
                

                var spotLight = new THREE.SpotLight( 0xffffff );
                spotLight.position.set( -40, 60, -10 );
                scene.add( spotLight );

                var sphereGeometry = new THREE.SphereGeometry(40,20,20);
                var sphereMaterial = new THREE.MeshPhongMaterial(
                {color: 0x7777ff, wireframe: true});
                var sphere = new THREE.Mesh(sphereGeometry,sphereMaterial);
                sphere.position.x = 0;
                sphere.position.y = 4;
                sphere.position.z = 2;
                scene.add(sphere);


                var cubeGeometry = new THREE.CubeGeometry(4,4,4);
                var cubeMaterial = new THREE.MeshPhongMaterial(
                {color: 0xff0000, wireframe: false});
                var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
                cube.position.x = -4;
                cube.position.y = 3;
                cube.position.z = 0;
                scene.add(cube);


                var controls = new function() {
                    this.rotationSpeed = 0.02;
                    this.bouncingSpeed = 0.03;
                }

                var gui = new dat.GUI();
                gui.add(controls, 'rotationSpeed',0,0.5);
                gui.add(controls, 'bouncingSpeed',0,0.5);

                camera.position.x = -30;
                camera.position.y = 40;
                camera.position.z = 30;
                camera.lookAt(scene.position);
                $("#ebpfInAction").append(renderer.domElement);
                renderScene();

                function renderScene() {
 
                    sphere.rotation.x += 0.02;
                    //sphere.rotation.y += 0.02;
                    sphere.rotation.z += 0.02;

                    cube.rotation.x += controls.rotationSpeed;;
                    cube.rotation.y += 0.02;
                    requestAnimationFrame(renderScene);
                    renderer.render(scene, camera);
                }

            });
        </script>

	</body>

</html>
